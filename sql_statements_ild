create sequence infomration_leakage_detection.avail_jobs_job_id_seq;

alter sequence infomration_leakage_detection.avail_jobs_job_id_seq owner to autoscaadmin;

create table infomration_leakage_detection.avail_jobs
(
    job_id             integer          default nextval('infomration_leakage_detection.avail_jobs_job_id_seq'::regclass) not null
        constraint avail_jobs_pk
            primary key,
    fold_id            integer                                                                    not null,
    dataset_name            text                                                                       not null,
    imbalance               float                                                                      default 0.5,
    base_learner            text                                                                       not null,
    estimator               text                                                                       not null,
    cv_iterations           integer default 10,
    n_hypothesis            integer  default 10,
    experiment_schema  text                                                                       not null,
    experiment_table   text,
    seed               integer          default 123,
    hash_value         text             default ''::text,
    job_allocated_time timestamp,
    job_end_time       timestamp,
    evaluation_time    double precision default 0
);

alter table infomration_leakage_detection.avail_jobs owner to autoscaadmin;

create sequence infomration_leakage_detection.running_jobs_running_id_seq;

alter sequence infomration_leakage_detection.running_jobs_running_id_seq owner to autoscaadmin;

create table infomration_leakage_detection.running_jobs
(
    running_id    integer default nextval('infomration_leakage_detection.running_jobs_running_id_seq'::regclass) not null,
    job_id        integer                                                                 not null
        primary key,
    cluster_id    integer                                                                 not null,
    finished      boolean default false                                                   not null,
    interrupted   boolean default false                                                   not null,
    error_history text    default 'NA'::text
);

alter table infomration_leakage_detection.running_jobs
    owner to autoscaadmin;

create unique index running_jobs_running_id_idx on infomration_leakage_detection.running_jobs (running_id);

